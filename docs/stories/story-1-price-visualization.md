# Story 1.1: 가격 분포 시각화

## Status
- Draft

## Story
**As a** 중고차 구매를 고려하는 사용자,
**I want** 가장 인기 있는 Top 5 중고차 모델의 주간 평균 가격 추세를 보여주는 차트 조회,
**so that** 시장 가격 추이를 한눈에 파악하고, 현재 가격이 합리적인지 판단하여 정보에 기반한 구매 결정을 내릴 수 있도록.

## Acceptance Criteria
1.  메인 페이지에 접속하면 가격 분포를 나타내는 차트가 보여야 한다.
2.  차트는 시간(X축)과 가격(Y축)을 기준으로 한 산점도(Scatter Plot) 형태여야 한다.
3.  차트에는 '판매 중'인 매물과 '판매 완료'된 매물이 다른 색상으로 구분되어 표시되어야 한다. (FR1)
4.  차트에 표시되는 데이터는 `/api/cars/trends` 엔드포인트를 통해 받아와야 한다.
5.  차트의 각 데이터 포인트에 마우스를 올리면 해당 매물의 가격, 주행거리 정보가 툴팁으로 표시되어야 한다.

## Tasks / Subtasks
- [ ] **Task 1: 데이터 조회 API 엔드포인트 개발** (AC: #4)
    - [ ] `cars` 테이블에서 모델별 가격, 상태, 등록일 데이터를 조회하는 데이터베이스 쿼리 작성
    - [ ] `/api/cars/trends` API 라우트 생성
    - [ ] 데이터베이스 조회 로직과 API 라우트를 연결하여 JSON 형태로 데이터 반환
- [ ] **Task 2: 차트 UI 컴포넌트 구현** (AC: #1, #2, #3, #5)
    - [ ] 차트 라이브러리(예: Recharts)를 사용하여 기본 차트 컴포넌트 생성
    - [ ] API로부터 받은 데이터를 차트에 맞게 파싱하는 로직 구현
    - [ ] 매물 상태('판매 중', '판매 완료')에 따라 데이터 포인트의 색상을 다르게 렌더링
    - [ ] 데이터 포인터에 마우스 호버 시 툴팁을 표시하는 기능 구현
- [ ] **Task 3: 메인 페이지에 차트 통합** (AC: #1)
    - [ ] 메인 페이지에 위에서 구현한 차트 컴포넌트 추가
    - [ ] 페이지 로드 시 API를 호출하여 차트 데이터를 가져오도록 구현

## Dev Notes
- **Testing:**
    - API 엔드포인트에 대한 유닛 테스트를 작성해야 합니다. (Vitest)
    - 차트 컴포넌트가 데이터를 올바르게 렌더링하는지 확인하는 프론트엔드 유닛 테스트를 작성해야 합니다. (Vitest + React Testing Library)
- **Technical Guidance:**
    - **UI:** `shadcn/ui`와 `Tailwind CSS`를 사용하여 전체적인 디자인 통일성을 유지합니다.
    - **API:** Next.js API Routes를 활용하여 REST API를 구축합니다.
    - **Data Access:** `packages/db`에 정의된 Repository Pattern을 사용하여 데이터베이스와 상호작용합니다.
    - **Project Structure:** `apps/web`에 프론트엔드/API 코드를, `packages/db`에 데이터베이스 관련 로직을 배치하는 모노레포 구조를 따릅니다.

## Change Log
| Date | Version | Description | Author |
| :--- | :--- | :--- | :--- |
| 2025-09-29 | 1.0 | 스토리 초안 작성 | Sarah (PO) |
